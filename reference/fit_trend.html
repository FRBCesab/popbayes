<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Run BUGS population model — fit_trend • popbayes</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Run BUGS population model — fit_trend" />
<meta property="og:description" content="This is the main function of the package. It applies a Bayesian model to a count series in order to infer
the population trend over time.
The series of counts, extracted from a tibble or dataframe, the name of which is provided as an argument
(parameter dsname), must be accompanied by a 95% confidence interval in the form of 2 parallel series of the
lower and upper bounds, and the series of the times when each count was taken (in the same tibble or dataframe).
There are two types of options:
model options (parameter modelopt)
MCMC options (parameter MCMCopt)


A. model options are 2:
a smoothing parameter,
a logical indicating whether the population growth must remain limited by the species demographic potential.


The smoothing parameter is actually the precision (the inverse of variance) of a normal distribution centered on
the current relative rate of increase r from which the next candidate relative rate of increase (see below) is drawn.
The highest this number, the tighter the link between successive relative rates of increase. The default 100
corresponds to a moderate link.
The relative rate of increase is the change in log population size between two dates. The quantity actually
being modeled is the relative rate of increase per unit of time (usually one year). This quantity reflects
more directly the prevailing conditions than the population size itself, which is the reason why it has been chosen.
When the second model option is set to True, the candidate rate of increase is compared to the maximum relative rate
of increase (parameter rmax) and replaced by rmax if greater.
B. MCMC options are the classical MCMC settings (see param MCMCopt below)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">popbayes</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/popbayes.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/generate_data.html">Get species information</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/frbcesab/popbayes/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run BUGS population model</h1>
    <small class="dont-index">Source: <a href='https://github.com/frbcesab/popbayes/blob/master/R/fit_trend.R'><code>R/fit_trend.R</code></a></small>
    <div class="hidden name"><code>fit_trend.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is the main function of the package. It applies a Bayesian model to a count series in order to infer
the population trend over time.
The series of counts, extracted from a tibble or dataframe, the name of which is provided as an argument
(parameter dsname), must be accompanied by a 95% confidence interval in the form of 2 parallel series of the
lower and upper bounds, and the series of the times when each count was taken (in the same tibble or dataframe).</p>
<p>There are two types of options:</p><ul>
<li><p>model options (parameter modelopt)</p></li>
<li><p>MCMC options (parameter MCMCopt)</p></li>
</ul>

<p>A. model options are 2:</p><ul>
<li><p>a smoothing parameter,</p></li>
<li><p>a logical indicating whether the population growth must remain limited by the species demographic potential.</p></li>
</ul>

<p>The smoothing parameter is actually the precision (the inverse of variance) of a normal distribution centered on
the current relative rate of increase r from which the next candidate relative rate of increase (see below) is drawn.
The highest this number, the tighter the link between successive relative rates of increase. The default 100
corresponds to a moderate link.</p>
<p>The relative rate of increase is the change in log population size between two dates. The quantity actually
being modeled is the relative rate of increase per unit of time (usually one year). This quantity reflects
more directly the prevailing conditions than the population size itself, which is the reason why it has been chosen.
When the second model option is set to True, the candidate rate of increase is compared to the maximum relative rate
of increase (parameter rmax) and replaced by rmax if greater.</p>
<p>B. MCMC options are the classical MCMC settings (see param MCMCopt below).</p>
    </div>

    <pre class="usage"><span class='fu'>fit_trend</span><span class='op'>(</span>
  dsname <span class='op'>=</span> <span class='cn'>NULL</span>,
  rmax <span class='op'>=</span> <span class='cn'>NULL</span>,
  MCMCopt <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>ni <span class='op'>=</span> <span class='fl'>50000</span>, nt <span class='op'>=</span> <span class='fl'>3</span>, nb <span class='op'>=</span> <span class='fl'>10000</span>, nc <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
  modelopt <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dsname</th>
      <td><p>a string. the R object name containing data.</p></td>
    </tr>
    <tr>
      <th>rmax</th>
      <td><p>a numeric. the maximum relative rate of increase of the species i.e. maximum yearly change in log pop size.</p></td>
    </tr>
    <tr>
      <th>MCMCopt</th>
      <td><p>a list. a list containing the number of iteration (ni), thin factor (nt), length of burn in (nb), i.e. number of iterations to discard at the beginning and the number of chains (nc).</p></td>
    </tr>
    <tr>
      <th>modelopt</th>
      <td><p>a list. a list of two vectors: the model smoothing factor and a boolean indicating if parameter r must be limited by rmax.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The ouput of the Bayesian model as provided by Jags or Openbugs. Additionally, the function prints the results
to the console with the method of the package used to call JAGS or OpenBUGS.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'>## ADD AN EXAMPLE</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Nicolas Casajus, Roger Pradel.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


